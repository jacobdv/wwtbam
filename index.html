<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Who Wants to be a Millionaire</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep-blue: #0a1529;
            --bg-warm-glow: #2a1a0a;
            --glass-bg: rgba(20, 30, 50, 0.7);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-snow: #e6f2ff;
            --text-warm: #ffdaa6;
            --accent-warm: #ffc06e;
            --accent-selected: #ff9f43;
            --accent-correct: #2ecc71;
            --accent-wrong: #e74c3c;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at center bottom, var(--bg-warm-glow), var(--bg-deep-blue) 70%);
            color: var(--text-snow);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        /* --- CSS Snow Animation --- */
        .snow {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; z-index: 1;
            background-image: 
                radial-gradient(4px 4px at 100px 50px, #fff, transparent),
                radial-gradient(6px 6px at 200px 150px, #fff, transparent),
                radial-gradient(3px 3px at 300px 250px, #fff, transparent);
            background-size: 550px 550px;
            animation: snowAnim 10s linear infinite; opacity: 0.3;
        }
        @keyframes snowAnim { from { transform: translateY(-550px); } to { transform: translateY(0); } }

        /* --- Main Layout --- */
        #main-container {
            position: relative; z-index: 10;
            display: flex; width: 95%; max-width: 1200px; height: 90vh;
            align-items: center; justify-content: center; gap: 20px;
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border); border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* --- Setup Panel --- */
        #setup-panel {
            position: absolute; z-index: 30; padding: 40px; text-align: center;
            width: 90%; max-width: 500px;
            max-height: 90vh; overflow-y: auto;
        }
        h1 { color: var(--text-warm); font-weight: 600; margin-bottom: 20px; font-size: 1.8rem; }
        
        .divider { margin: 20px 0; border-top: 1px solid rgba(255,255,255,0.1); width: 100%; }

        input[type="file"] { display: none; }
        .setup-btn {
            display: block; width: 100%; margin: 15px 0; padding: 15px;
            border: 1px solid var(--glass-border); border-radius: 12px;
            background: rgba(255, 255, 255, 0.05); color: var(--text-snow);
            cursor: pointer; transition: 0.2s; font-size: 1rem;
        }
        .setup-btn:hover { background: rgba(255, 255, 255, 0.15); border-color: var(--accent-warm); color: var(--text-warm); }
        
        button.control-btn {
            background: linear-gradient(135deg, var(--accent-warm), #ad6d2d);
            border: none; color: #1a0f00; padding: 12px 30px; width: 100%;
            cursor: pointer; font-size: 1.1rem; font-weight: 600;
            border-radius: 50px; box-shadow: 0 4px 15px rgba(255, 192, 110, 0.3);
        }
        button.control-btn:active { transform: scale(0.98); }

        /* --- Game Area --- */
        #game-area { display: none; flex: 3; width: 100%; padding: 20px; flex-direction: column; justify-content: center; }
        
        .hud {
            display: flex; justify-content: space-between; color: var(--text-warm);
            font-size: 1rem; margin-bottom: 20px; border-bottom: 1px solid var(--glass-border);
            padding-bottom: 10px;
        }

        .question-box {
            min-height: 100px; display: flex; align-items: center; justify-content: center;
            margin-bottom: 20px; font-size: 1.3rem; padding: 20px; text-align: center;
            background: rgba(10, 20, 35, 0.85); line-height: 1.4;
        }

        .answers-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .answer-btn {
            background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border);
            border-radius: 30px; color: var(--text-snow); padding: 15px 20px;
            font-size: 1rem; cursor: pointer; text-align: left; display: flex; align-items: center;
            min-height: 60px;
        }
        .answer-btn:active { transform: scale(0.98); }
        .answer-letter { color: var(--accent-warm); font-weight: 600; margin-right: 10px; font-size: 1.1rem; flex-shrink: 0;}

        /* --- Money Ladder (Desktop) --- */
        #money-ladder-container {
            display: none; flex: 1; max-width: 250px; height: 100%;
            flex-direction: column-reverse; 
            justify-content: center; padding: 20px;
            overflow-y: auto;
        }
        .ladder-step {
            display: flex; justify-content: space-between; padding: 5px 15px; margin: 2px 0;
            border-radius: 8px; color: var(--text-snow); font-size: 0.9rem; opacity: 0.5;
        }
        .ladder-step.active {
            background: linear-gradient(90deg, rgba(255, 192, 110, 0.2), transparent);
            border-left: 3px solid var(--accent-warm); color: var(--text-warm); opacity: 1; font-weight: 600;
        }
        .ladder-step.milestone { color: white; font-weight: 600; opacity: 0.8; }

        /* --- Mobile Money Bar (Replaces Ladder on Mobile) --- */
        #mobile-money-bar {
            display: none; /* Hidden on desktop */
            position: fixed;
            bottom: 0; left: 0; width: 100%;
            background: rgba(10, 20, 35, 0.95);
            border-top: 1px solid var(--accent-warm);
            padding: 15px;
            text-align: center;
            font-size: 1.2rem;
            color: var(--text-snow);
            z-index: 50;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }
        #mobile-money-val { color: var(--text-warm); font-weight: bold; margin-left: 10px; }

        /* --- Confirmation Dialog --- */
        #confirmation-box {
            display: none; margin-top: 20px; flex-direction: column; align-items: center; gap: 15px;
            animation: fadeIn 0.3s ease; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 15px;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        .confirm-text { font-size: 1.1rem; color: var(--text-warm); }
        .confirm-btn-group { display: flex; gap: 15px; width: 100%; justify-content: center; }
        .confirm-btn {
            border: 1px solid var(--glass-border); padding: 10px 30px; border-radius: 20px;
            font-weight: 600; color: white; flex: 1; max-width: 120px;
        }
        .confirm-yes { background: rgba(46, 204, 113, 0.3); border-color: var(--accent-correct); }
        .confirm-no { background: rgba(231, 76, 60, 0.3); border-color: var(--accent-wrong); }

        /* --- Next Button --- */
        #next-btn-container {
            height: 60px; width: 100%; display: flex; align-items: center; justify-content: center;
            margin-top: 10px; opacity: 0; pointer-events: none; transition: 0.5s;
        }
        #next-btn-container.visible { opacity: 1; pointer-events: all; }

        /* --- Preloaded Games Modal --- */
        #preloaded-modal {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 40; flex-direction: column; 
            align-items: center; justify-content: center;
        }
        .modal-content {
            background: var(--bg-deep-blue); padding: 30px; width: 90%; max-width: 400px;
            border-radius: 20px; border: 1px solid var(--accent-warm); text-align: center;
        }
        .game-select-btn {
            display: block; width: 100%; padding: 15px; margin: 10px 0;
            background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255,255,255,0.2);
            color: white; border-radius: 10px; font-size: 1rem;
        }

        /* --- States --- */
        .answer-btn.selected { background: rgba(255, 159, 67, 0.3); border-color: var(--accent-selected); color: var(--text-warm); }
        .answer-btn.correct { background: rgba(46, 204, 113, 0.4) !important; border-color: var(--accent-correct) !important; color: white !important; }
        .answer-btn.wrong { background: rgba(231, 76, 60, 0.4) !important; border-color: var(--accent-wrong) !important; }

        /* --- MOBILE OPTIMIZATIONS --- */
        @media (max-width: 900px) {
            #main-container { flex-direction: column; height: auto; min-height: 100vh; padding-bottom: 80px; /* Space for footer */ }
            
            /* Hide the Ladder completely on mobile */
            #money-ladder-container { display: none !important; }
            
            /* Show the bottom bar */
            #mobile-money-bar { display: block; }
            
            /* Hide the money in the top HUD since it's at bottom now */
            #current-money-display { display: none; }

            #game-area { width: 100%; padding: 20px; border: none; background: transparent; box-shadow: none; }

            .answers-grid { grid-template-columns: 1fr; gap: 10px; }
            .question-box { font-size: 1.1rem; padding: 15px; min-height: 80px; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="snow"></div>

    <div id="main-container">
        <div id="game-area" class="glass-panel">
            <div class="hud">
                <span id="score-display">Q: 1</span>
                <span id="current-money-display">$0</span>
            </div>

            <div class="question-box glass-panel" id="question-text">Loading...</div>

            <div class="answers-grid">
                <button class="answer-btn" id="btn-A" onclick="selectAnswer('A')"><span class="answer-letter">A</span> <span id="text-A"></span></button>
                <button class="answer-btn" id="btn-B" onclick="selectAnswer('B')"><span class="answer-letter">B</span> <span id="text-B"></span></button>
                <button class="answer-btn" id="btn-C" onclick="selectAnswer('C')"><span class="answer-letter">C</span> <span id="text-C"></span></button>
                <button class="answer-btn" id="btn-D" onclick="selectAnswer('D')"><span class="answer-letter">D</span> <span id="text-D"></span></button>
            </div>

            <div id="confirmation-box">
                <div class="confirm-text">Final Answer?</div>
                <div class="confirm-btn-group">
                    <button class="confirm-btn confirm-no" onclick="handleConfirmation(false)">NO</button>
                    <button class="confirm-btn confirm-yes" onclick="handleConfirmation(true)">YES</button>
                </div>
            </div>

            <div id="next-btn-container">
                <button class="control-btn" id="next-btn" onclick="nextQuestion()">Next Question</button>
            </div>
        </div>

        <div id="money-ladder-container" class="glass-panel"></div>
    </div>

    <div id="mobile-money-bar">
        Playing For: <span id="mobile-money-val">$0</span>
    </div>

    <div id="preloaded-modal">
        <div class="modal-content glass-panel">
            <h2>Select Game</h2>
            <div id="preloaded-list"></div>
            <button class="setup-btn" onclick="closePreloadedMenu()" style="margin-top:20px; border-color: var(--accent-wrong);">Cancel</button>
        </div>
    </div>

    <div id="setup-panel" class="glass-panel">
        <h1>Who Wants to be a Millionaire?</h1>
        <p style="color: var(--text-snow); font-size: 0.9rem;">Choose a preloaded game or upload your own.</p>
        
        <button class="setup-btn" onclick="showPreloadedMenu()" style="border-color: var(--accent-warm); font-weight: bold;">
            ðŸŽ® &nbsp; Choose Preloaded Game
        </button>

        <div class="divider"></div>

        <label for="fileInput" class="setup-btn" id="fileLabel">
            ðŸ“‚ &nbsp; Upload .txt File
        </label>
        <input type="file" id="fileInput" accept=".txt" onchange="updateFileName()">
        
        <button class="control-btn" onclick="processFile()">Start Uploaded Game</button>
        
        <p id="error-msg" style="color: var(--accent-wrong); display: none; margin-top: 15px; font-size: 0.9rem;">Invalid file format.</p>
    </div>

    <script>
        const PRELOADED_GAMES = {
            // GAME 1: The Winners Circle (Famous Champions)
            "Eurovision: The Winners": [
                "Which group gave Sweden its first win in 1974? | Roxette | Ace of Base | ABBA | Europe | C",
                "Which country won the very first contest in 1956? | France | Switzerland | Germany | Italy | B",
                "Alexander Rybak won with the highest score ever (at the time) for which country? | Sweden | Russia | Norway | Denmark | C",
                "Which band won in 2021 with the rock song 'Zitti e buoni'? | MÃ¥neskin | Blind Channel | The Rasmus | Go_A | A",
                "Which song won for the UK in 1981? | Making Your Mind Up | Save Your Kisses for Me | Puppet on a String | Love Shine a Light | A",
                "Who is the only performer to win the contest twice as a singer? | Johnny Logan | Loreen | Lena | Carola | B",
                "Which country won 3 times in a row from 1992 to 1994? | Sweden | United Kingdom | Ireland | Israel | C",
                "Which monster-rock band won for Finland in 2006? | Lordi | Gwar | Nightwish | HIM | A",
                "Salvador Sobral won in 2017 with a jazz ballad in which language? | Spanish | Italian | Portuguese | French | C",
                "Which drag queen won for Austria in 2014? | Verka Serduchka | Conchita Wurst | RuPaul | Dana International | B",
                "Which country finally won for the first time in 2017 after 53 years of trying? | Cyprus | Portugal | Iceland | Malta | B",
                "Which song by Loreen won the contest in 2012? | Tattoo | Euphoria | My Heart Is Refusing Me | Statements | B",
                "Which Israeli singer won in 2018 with 'Toy'? | Noa Kirel | Netta | Dana International | Sarit Hadad | B",
                "Which Ukrainian artist won in 2004 with 'Wild Dances'? | Jamala | Ruslana | Verka Serduchka | Ani Lorak | B",
                "In 1969, four countries tied for the win. Which of these was NOT one of them? | Spain | UK | Netherlands | Germany | D"
            ],

            // GAME 2: The Nul Points Club (Famous Losers & Zero Pointers)
            "Eurovision: Nul Points": [
                "What is the term for scoring zero points in Eurovision? | Blank | Zero Hour | Nul Points | The Void | C",
                "Which UK duo famously scored 'Nul Points' in 2003 with 'Cry Baby'? | Jemini | Scooch | Electro Velvet | Joe & Jake | A",
                "In 2021, which UK artist scored zero points from both the jury and the public? | Michael Rice | SuRie | James Newman | Engelbert Humperdinck | C",
                "Which country scored zero points in the Grand Final in 2015 while hosting the event? | Sweden | Austria | Germany | France | B",
                "Germany also scored zero points in 2015. Who was the artist? | Ann Sophie | Cascada | Jamie-Lee | Levina | A",
                "Which country has received the most 'Nul Points' in history? | Norway | Finland | United Kingdom | Switzerland | A",
                "In 2012, which country came last but managed to scrape 7 points? | United Kingdom | Norway | France | Ireland | B",
                "Who represented Switzerland in 2004 and received zero points in the semi-final? | Piero Esteriore | DJ Bobo | Paolo Meneguzzi | Michael von der Heide | A",
                "Which famous Irish puppet failed to qualify in 2008? | Zig and Zag | Dustin the Turkey | Basil Brush | Bosco | B",
                "In 1962, 1963, 1964, and 1965, how many countries scored zero points combined? | 4 | 8 | 13 | 16 | D",
                "Which Czech Republic entry received zero public votes in 2021? | Benny Cristo | Lake Malawi | Mikolas Josef | We Are Domi | A",
                "Which Spanish artist scored zero in 1983 with 'Â¿QuiÃ©n maneja mi barca?'? | Remedios Amaya | AzÃºcar Moreno | Soraya | Manel Navarro | A",
                "Which country scored zero in 1978 and didn't even realize because the broadcaster cut the feed? | Jordan | Turkey | Morocco | Greece | A",
                "In 2003, the UK scored zero. Which is the only other year a song scored absolute zero under the modern (post-1975) system? | 1981 (Norway) | 1997 (Norway) | 1988 (Iceland) | 1994 (Lithuania) | A",
                "Which of these 'Big 5' countries has NEVER received 'Nul Points' in a final? | UK | Germany | Spain | Italy | D"
            ],

            // GAME 3: Weird & Wonderful (Gimmicks & Novelty Acts)
            "Eurovision: Weird & Wacky": [
                "Which country sent a puppet turkey named Dustin to Eurovision? | UK | Ireland | France | Belgium | B",
                "Verka Serduchka, the 'dancing star', represented which country in 2007? | Russia | Belarus | Ukraine | Moldova | C",
                "Which Russian entry featured grandmothers baking bread on stage? | t.A.T.u. | Little Big | Buranovskiye Babushki | Polina Gagarina | C",
                "In 2008, which country's entry featured a pirate and a chicken puppet? | Latvia | Estonia | Azerbaijan | Armenia | B",
                "Who played the 'Epic Sax Guy' for Moldova in 2010? | SunStroke Project | O-Zone | Zdob È™i Zdub | DoReDos | A",
                "Which country sent a man in a hamster wheel in 2014? | Ukraine | Belarus | Russia | Azerbaijan | A",
                "Which Finnish band wore monster masks and armor to win in 2006? | Lordi | Nightwish | Apocalyptica | HIM | A",
                "In 2013, which country featured a giant man carrying the singer on stage? | Ukraine | Azerbaijan | Russia | Belarus | A",
                "Which San Marino singer performed 'Say Na Na Na' in 2019? | Senhit | Serhat | Valentina Monetta | Achille Lauro | B",
                "Which country sent 'Genghis Khan' (Dschinghis Khan) in 1979? | Mongolia | Turkey | Germany | Austria | C",
                "Who performed 'Dancing Lasha Tumbai' in a silver star outfit? | Ruslana | Verka Serduchka | Maruv | Go_A | B",
                "In 2009, which country sent a Dita Von Teese lookalike (and Dita herself)? | France | Germany | UK | Spain | B",
                "Which country's 2014 entry was a song about cheesecake? | Belarus | Latvia | Poland | Lithuania | A",
                "Who represented Ireland in 2011/2012 with giant shoulder pads and high hair? | Jedward | Westlife | Boyzone | The Script | A",
                "Which act famously incorporated a gorilla on stage in 2017? | Francesco Gabbani (Italy) | Salvador Sobral (Portugal) | Blanche (Belgium) | SunStroke Project (Moldova) | A"
            ],

            // GAME 4: The Golden Era (1956â€“1999)
            "Eurovision: The Classics": [
                "In which year was the first Eurovision held? | 1950 | 1956 | 1960 | 1965 | B",
                "Which ABBA song won the 1974 contest? | Mamma Mia | Waterloo | Dancing Queen | Fernando | B",
                "Who won for the UK with 'Puppet on a String' in 1967? | Lulu | Cilla Black | Sandie Shaw | Dusty Springfield | C",
                "Which song won for the Netherlands in 1975? | Ding-a-dong | Teach-In | Hallelujah | Volare | A",
                "Celine Dion won Eurovision in 1988 representing which country? | Canada | France | Switzerland | Luxembourg | C",
                "Johnny Logan won twice for Ireland. What were the years? | 1980 & 1987 | 1981 & 1988 | 1979 & 1985 | 1982 & 1989 | A",
                "Which famous 'Riverdance' performance debuted as an interval act in what year? | 1990 | 1992 | 1994 | 1996 | C",
                "Which Israeli song won back-to-back in 1979? | A-Ba-Ni-Bi | Hallelujah | Diva | Toy | B",
                "What controversy surrounded the 1969 contest in Madrid? | No winner was declared | 4 countries tied for 1st | The stage collapsed | France refused to perform | B",
                "Which country won the last contest of the 20th century (1999)? | Sweden | Israel | Germany | Denmark | A",
                "Who wrote the 1968 UK entry 'Congratulations' for Cliff Richard? | Elton John | The Beatles | Phil Coulter & Bill Martin | Andrew Lloyd Webber | C",
                "Which famous singer represented Luxembourg in 1965 with 'PoupÃ©e de cire, poupÃ©e de son'? | France Gall | Francoise Hardy | Brigitte Bardot | Jane Birkin | A",
                "Which year did the UK famously hold the contest in Brighton (ABBA's win)? | 1972 | 1973 | 1974 | 1975 | C",
                "Dana International won in 1998 with which song? | Viva | Diva | Hero | Power | B",
                "Which country holds the record for most wins in the 90s (4 wins)? | Sweden | United Kingdom | Ireland | Israel | C"
            ],

            // GAME 5: The 2010s (Modern Era)
            "Eurovision: The 2010s": [
                "Who won the 2010 contest with 'Satellite'? | Lena | Rybak | Loreen | Emmelie | A",
                "Which country won in 2011, their first ever victory? | Azerbaijan | Russia | Ukraine | Turkey | A",
                "What was the name of Loreen's winning song in 2012? | Euphoria | Tattoo | Statements | Neon Lights | A",
                "Which country hosted the contest in 2013? | Sweden | Norway | Denmark | Germany | A",
                "Conchita Wurst ('Rise Like a Phoenix') represented which country? | Germany | Austria | Switzerland | Poland | B",
                "Who won in 2015 with the song 'Heroes'? | MÃ¥ns ZelmerlÃ¶w | Frans | Eric Saade | Benjamin Ingrosso | A",
                "In 2016, Jamala won with a song titled '1944'. Which country did she represent? | Ukraine | Russia | Georgia | Armenia | A",
                "Who gave Portugal their first ever win in 2017? | Salvador Sobral | LuÃ­sa Sobral | Conan OsÃ­ris | The Black Mamba | A",
                "Which country won the televote in 2019 but did not win the contest? | Norway | Netherlands | Italy | Russia | A",
                "Where was the 2019 contest held? | Jerusalem | Tel Aviv | Haifa | Eilat | B",
                "Which 'Big 5' country came 2nd in 2011, 2019, and won in 2021? | France | Italy | Spain | Germany | B",
                "Eleni Foureira represented which country with 'Fuego' in 2018? | Greece | Cyprus | Spain | Albania | B",
                "Which country returned to the contest in 2011 after a 13-year absence? | Italy | Slovakia | Hungary | Czech Republic | A",
                "Who represented Russia in 2016 with 'You Are the Only One'? | Dima Bilan | Sergey Lazarev | Philipp Kirkorov | Alekseev | B",
                "In 2015, which country was invited as a 'special guest' for the 60th anniversary? | USA | China | Australia | Canada | C"
            ],

            // GAME 6: Scandinavian Dominance
            "Eurovision: Scandinavia": [
                "Which Scandinavian country has the most Eurovision wins? | Norway | Denmark | Sweden | Finland | C",
                "How many times has Sweden won the contest as of 2023? | 5 | 6 | 7 | 8 | C",
                "Which country holds the record for the most 'Last Place' finishes? | Norway | Finland | Iceland | Denmark | A",
                "Who is the only Norwegian artist to win by a record margin in 2009? | Alexander Rybak | Jahn Teigen | TIX | Margaret Berger | A",
                "Which Danish artist won in 2013 with 'Only Teardrops'? | Emmelie de Forest | Anja Nissen | Leonora | Rasmussen | A",
                "Lordi brought the first win to which country in 2006? | Sweden | Norway | Finland | Iceland | C",
                "Which Icelandic entry went viral in 2020 but never competed due to cancellation? | Think About Things (DaÃ°i Freyr) | HatriÃ° mun sigra | Is It True? | Congratulations | A",
                "The Olsen Brothers won for Denmark in which year? | 1998 | 1999 | 2000 | 2001 | C",
                "Which Swedish winner hosted the 2016 contest alongside Petra Mede? | MÃ¥ns ZelmerlÃ¶w | Eric Saade | Carola | Loreen | A",
                "Which country debuted in 1986 and won for the first time in 1985? (Wait, trick question - Bobbysocks won for Norway in '85). When did Iceland debut? | 1984 | 1986 | 1990 | 1978 | B",
                "Carola is a Swedish legend. How many times has she competed in Eurovision? | 1 | 2 | 3 | 4 | C",
                "Which Scandinavian capital hosted the 2014 contest in a shipyard? | Oslo | Stockholm | Copenhagen | Helsinki | C",
                "In 1995, Secret Garden won for Norway with a song that was mostly... | Instrumental | A Cappella | Rap | Opera | A",
                "Which country has never won: Iceland or Finland? | Iceland | Finland | Both | Neither | A",
                "The 2024 contest is set to be held in which Swedish city? | Stockholm | Gothenburg | MalmÃ¶ | Uppsala | C"
            ],

            // GAME 7: United Kingdom Special
            "Eurovision: United Kingdom": [
                "How many times has the UK won Eurovision? | 3 | 4 | 5 | 6 | C",
                "Who was the UK's last winner (1997)? | Gina G | Katrina and the Waves | Imaani | Precious | B",
                "Sam Ryder achieved which place in 2022? | 1st | 2nd | 3rd | 4th | B",
                "Which famous composer wrote the UK's 2009 entry for Jade Ewen? | Elton John | Gary Barlow | Andrew Lloyd Webber | Tim Rice | C",
                "Who scored 'Nul Points' for the UK in 2003? | Scooch | Jemini | Daz Sampson | Josh Dubovie | B",
                "Bucks Fizz won in 1981 with a famous routine involving what? | Rip-off skirts | Confetti cannons | Fire | Tap dancing | A",
                "Which UK entry by Gina G (1996) became a massive US hit despite not winning? | Ooh Aah... Just a Little Bit | Love City Groove | Better the Devil You Know | Flying the Flag | A",
                "How many times has the UK finished in 2nd place (a record)? | 10 | 12 | 16 | 20 | C",
                "Which boyband represented the UK in 2011? | One Direction | Blue | Take That | Westlife | B",
                "Sir Cliff Richard competed twice. In 1968 and which other year? | 1971 | 1973 | 1975 | 1970 | B",
                "Who represented the UK in 2014 with 'Children of the Universe'? | Molly | Lucie Jones | Bonnie Tyler | Engelbert Humperdinck | A",
                "Where did the UK host the 2023 contest on behalf of Ukraine? | London | Manchester | Glasgow | Liverpool | D",
                "Which famous 80s singer represented the UK in 2013? | Kim Wilde | Bonnie Tyler | Cyndi Lauper | Kate Bush | B",
                "Lulu won in 1969 with which song? | Boom Bang-a-Bang | Puppet on a String | Congratulations | Jack in the Box | A",
                "Who was the very first representative for the UK in 1957? | Patricia Bredin | Matt Monro | Sandie Shaw | Pearl Carr | A"
            ],

            // GAME 8: Host Cities & Geography
            "Eurovision: Geography": [
                "Which is the only city to host the contest 6 times? | London | Dublin | Luxembourg City | Stockholm | B",
                "Which city hosted the 2012 contest in the newly built Crystal Hall? | Baku | Kyiv | Belgrade | Moscow | A",
                "Millstreet (1993) is the smallest host 'city' ever. Which country is it in? | UK | Ireland | Netherlands | Malta | B",
                "Which Australian city was 'invited' to host a segment in 2023? | Sydney | Melbourne | Perth | None (it was Liverpool) | D",
                "In 1969, the contest was held in Madrid. Which dictator was in power? | Mussolini | Franco | Salazar | Tito | B",
                "Which city hosted the first contest in 1956? | Paris | Brussels | Lugano | Geneva | C",
                "Jerusalem hosted the contest in 1979 and which other year? | 1999 | 2019 | 1990 | 2000 | A",
                "Which country hosted the contest in 2008 at the intersection of two rivers? | Serbia (Belgrade) | Greece (Athens) | Turkey (Istanbul) | Russia (Moscow) | A",
                "Which non-capital city hosted the 2011 contest for Germany? | Munich | Hamburg | Dusseldorf | Frankfurt | C",
                "Where was the 2021 contest held (after the 2020 cancellation)? | Rotterdam | Amsterdam | The Hague | Utrecht | A",
                "Which country has hosted the contest the most times? | United Kingdom | Ireland | Sweden | France | A",
                "In 2004, the contest was held in Istanbul. On which two continents does the city sit? | Europe & Asia | Europe & Africa | Asia & Africa | Just Europe | A",
                "Which Italian city hosted in 1991 after the venue in Sanremo was deemed unsafe? | Milan | Rome | Naples | Turin | B",
                "MalmÃ¶ hosted in 2013 and 2024. Which country is MalmÃ¶ in? | Sweden | Denmark | Norway | Finland | A",
                "Which country is the only one from Africa to have competed (in 1980)? | Egypt | Tunisia | Morocco | Algeria | C"
            ],

            // GAME 9: Rules & Records
            "Eurovision: Rules & Stats": [
                "What is the maximum duration of a song? | 2:30 | 3:00 | 3:30 | 4:00 | B",
                "How many people are allowed on stage? | 5 | 6 | 7 | 8 | B",
                "Live animals were banned after which year? | 1956 | 1974 | 2000 | They were never allowed | D",
                "What is the minimum age for a contestant? | 14 | 15 | 16 | 18 | C",
                "Which country holds the record for most wins (7)? | Sweden & Ireland | UK & France | Sweden & UK | Ireland & France | A",
                "Who received the highest points score under the old system (387)? | Alexander Rybak | Loreen | Mans Zelmerlow | Lordi | A",
                "Under the new split voting system (2016+), who holds the points record (758)? | Salvador Sobral | Kalush Orchestra | MÃ¥neskin | Netta | A",
                "Which country has finished last the most times? | UK | Finland | Norway | Germany | C",
                "What is the 'Big Five'? | The top 5 scorers | The 5 largest funders | The 5 oldest countries | The 5 founders | B",
                "In 2020, the contest was cancelled for the first time due to what? | War | Budget | COVID-19 | Strikes | C",
                "Which language rule was abolished in 1999? | Must sing in English | Must sing in native language | No made-up languages | No Latin | B",
                "Who is the only person to win as a performer, writer, and backing singer? | Johnny Logan | BjÃ¶rn Ulvaeus | Toto Cutugno | Linda Martin | A",
                "What is the maximum number of countries that can compete in the Grand Final? | 24 | 25 | 26 | 28 | C",
                "How many points goes to the top favorite in the voting system? | 10 | 12 | 15 | 20 | B",
                "When was televoting fully introduced? | 1995 | 1997 | 1998 | 2001 | C"
            ],

            // GAME 10: Italy in Eurovision
            "Eurovision: Italy Special": [
                "Which Italian band won in 2021? | MÃ¥neskin | Il Volo | Mahmood | ModÃ  | A",
                "What famous Italian festival is the inspiration for Eurovision? | Venice Film Festival | Sanremo | Carnival | Festa della Repubblica | B",
                "Which song came 2nd in 2019 and became a viral hit? | Soldi | Occidentali's Karma | Zitti e buoni | Grande Amore | A",
                "Italy took a long break from Eurovision. How many years were they absent (1998-2010)? | 10 | 12 | 13 | 15 | C",
                "Who won for Italy in 1990 with 'Insieme: 1992'? | Toto Cutugno | Eros Ramazzotti | Zucchero | Al Bano | A",
                "Gigliola Cinquetti won the first time for Italy in 1964 with which song? | Non ho l'etÃ  | Volare | Si | Dio, come ti amo | A",
                "Which Italian entry features a dancing gorilla? | Occidentali's Karma | Soldi | Brividi | Due Vite | A",
                "Who represented Italy in 2015 with the opera-pop song 'Grande Amore'? | Il Volo | Andrea Bocelli | The Three Tenors | Il Divo | A",
                "Which famous song came 3rd in 1958 but became a global hit (Volare)? | Nel blu, dipinto di blu | Ciao Ciao | FelicitÃ  | L'italiano | A",
                "Mahmood represented Italy twice. Once solo and once with whom? | Blanco | Ultimo | Irama | Fedez | A",
                "Where was the 2022 contest hosted in Italy? | Rome | Milan | Turin | Naples | C",
                "Which rock band represented Italy in 2021? | MÃ¥neskin | Pinguini Tattici Nucleari | Le Vibrazioni | Negramaro | A",
                "Did Italy compete in the very first contest in 1956? | Yes | No | | | A",
                "Which entry features the lyric 'Soldi, Soldi'? | Mahmood | MÃ¥neskin | Francesco Gabbani | Marco Mengoni | A",
                "Italy is a member of which group that qualifies automatically? | The Big Five | The Top Three | The Founders | The Southern Bloc | A"
            ],
            "Extreme Eurovision (2000+)": [
                "Which song was selected for Lebanon's debut in 2005 before they withdrew at the last minute? | Une chanson pour la paix | Quand tout s'enfuit | L'amour est bleu | C'est la vie | B",
                "Who was the very first act to perform in the first-ever televised Eurovision Semi-Final (2004)? | Jari SillanpÃ¤Ã¤ (Finland) | Piero Esteriore (Switzerland) | Ruslana (Ukraine) | Deen (Bosnia & Herzegovina) | A",
                "After the 2019 Belarusian jury vote error was corrected days later, who was declared the official winner of the Jury Vote? | Sweden | The Netherlands | North Macedonia | Italy | C",
                "Ell & Nikki (2011) hold the record for the lowest average score per voting country for a winner. What was the average? | 5.16 points | 4.50 points | 3.85 points | 3.24 points | D",
                "Dima Bilan won in 2008. Which Olympic figure skater performed on the ice patch during his song? | Alexei Yagudin | Evgeni Plushenko | StÃ©phane Lambiel | Brian Joubert | B",
                "In 2016, MichaÅ‚ Szpak (Poland) finished 3rd with the public televote. Where did the Juries place him? | 10th | 15th | 25th | Last | C",
                "Ralph Siegel has written 24 Eurovision entries. Which is the only song he wrote for San Marino that qualified for the final? | The Social Network Song | Spirit of the Night | Maybe | Chain of Lights | C",
                "What giant stage prop did Rambo Amadeus (Montenegro) bring on stage in 2012? | A Fighter Jet | A Trojan Horse | A Space Rocket | A Submarine | B",
                "The 2001 contest in Copenhagen holds the record for the largest live audience in a stadium. How many people? | ~25,000 | ~30,000 | ~35,000 | ~38,000 | D",
                "Verka Serduchka's 'Dancing Lasha Tumbai' (2007) caused controversy for sounding like which phrase? | Russia Goodbye | Soviet Union | Hello Europe | Putin Go Home | A",
                "Who represented Spain in 2010 when the famous pitch invader 'Jimmy Jump' stormed the stage? | Soraya | Pastora Soler | Daniel Diges | Rodolfo Chikilicuatre | C",
                "The 2003 Belgian runner-up 'Sanomi' by Urban Trad was sung in which language? | French | Flemish | Imaginary | Walloon | C",
                "The 2017 contest in Kyiv was notable for being the first time the show was hosted by whom? | Three men | Three women | A solo host | A married couple | A",
                "Norway's TIX (2021) performs in sunglasses and angel wings due to which medical condition? | Narcolepsy | Alopecia | Tourette Syndrome | Scoliosis | C",
                "In 2006, LT United sang 'We Are The Winners'. What place did they actually finish? | 1st | 6th | 10th | 12th | B"
            ],
        };

        let questions = [];
        let prizeLadder = []; 
        let currentQuestionIndex = 0;
        let isLocked = false; 
        let pendingLetter = null;

        const setupPanel = document.getElementById('setup-panel');
        const preloadedModal = document.getElementById('preloaded-modal');
        const gameArea = document.getElementById('game-area');
        const ladderContainer = document.getElementById('money-ladder-container');
        const questionText = document.getElementById('question-text');
        const currentMoneyDisplay = document.getElementById('current-money-display');
        const mobileMoneyVal = document.getElementById('mobile-money-val');
        const nextBtn = document.getElementById('next-btn');
        const nextBtnContainer = document.getElementById('next-btn-container');
        const confirmBox = document.getElementById('confirmation-box');

        function showPreloadedMenu() {
            const list = document.getElementById('preloaded-list');
            list.innerHTML = '';
            
            Object.keys(PRELOADED_GAMES).forEach(key => {
                const btn = document.createElement('button');
                btn.className = 'game-select-btn';
                btn.innerText = key + ` (${PRELOADED_GAMES[key].length} Qs)`;
                btn.onclick = () => loadPreloadedGame(key);
                list.appendChild(btn);
            });

            preloadedModal.style.display = 'flex';
        }

        function closePreloadedMenu() {
            preloadedModal.style.display = 'none';
        }

        function loadPreloadedGame(gameName) {
            const gameData = PRELOADED_GAMES[gameName];
            parseQuestions(gameData.join('\n'));
            closePreloadedMenu();
        }

        function updateFileName() {
            const input = document.getElementById('fileInput');
            const label = document.getElementById('fileLabel');
            if (input.files && input.files.length > 0) {
                label.innerText = "ðŸ“„ " + input.files[0].name;
                label.style.borderColor = "var(--accent-warm)";
                label.style.color = "var(--text-warm)";
            }
        }

        function processFile() {
            const file = document.getElementById('fileInput').files[0];
            if (!file) { alert("Please select a file."); return; }
            const reader = new FileReader();
            reader.onload = (e) => parseQuestions(e.target.result);
            reader.readAsText(file);
        }

        function parseQuestions(text) {
            questions = [];
            const lines = text.split('\n');
            for (let line of lines) {
                if (line.trim() === "") continue;
                const parts = line.split('|').map(item => item.trim());
                if (parts.length >= 6) {
                    questions.push({
                        q: parts[0],
                        options: { A: parts[1], B: parts[2], C: parts[3], D: parts[4] },
                        correct: parts[5].toUpperCase()
                    });
                }
            }

            if (questions.length > 0) {
                generateDoublingLadder(questions.length);
                startGame();
            } else {
                document.getElementById('error-msg').style.display = 'block';
            }
        }

        function generateDoublingLadder(count) {
            prizeLadder = [];
            const MAX_PRIZE = 1000000;
            for (let i = 0; i < count; i++) {
                const distance = (count - 1) - i;
                let value = MAX_PRIZE / Math.pow(2, distance);
                
                if (value >= 1000) {
                    value = Math.round(value / 500) * 500;
                } else {
                    value = Math.round(value / 50) * 50;
                }
                if (value === 0) value = 50;
                prizeLadder.push(value);
            }
        }

        function renderLadder() {
            ladderContainer.innerHTML = '';
            ladderContainer.style.display = 'flex';
            for (let i = prizeLadder.length - 1; i >= 0; i--) {
                const step = document.createElement('div');
                step.className = 'ladder-step';
                if (prizeLadder[i] === 1000000) step.classList.add('milestone');
                step.id = `ladder-${i}`;
                
                const numSpan = document.createElement('span');
                numSpan.innerText = i + 1;
                const valSpan = document.createElement('span');
                valSpan.innerText = "$" + prizeLadder[i].toLocaleString();
                
                step.appendChild(numSpan);
                step.appendChild(valSpan);
                ladderContainer.appendChild(step);
            }
            updateLadderVisuals();
        }

        function updateLadderVisuals() {
            for (let i = 0; i < prizeLadder.length; i++) {
                const el = document.getElementById(`ladder-${i}`);
                el.classList.remove('active', 'passed', 'future');

                if (i === currentQuestionIndex) {
                    el.classList.add('active');
                } else if (i < currentQuestionIndex) {
                    el.classList.add('passed'); 
                } else {
                    el.classList.add('future');
                }
            }
        }

        function startGame() {
            setupPanel.style.opacity = '0';
            setTimeout(() => {
                setupPanel.style.display = 'none';
                gameArea.style.display = 'flex';
                gameArea.style.opacity = '1';
                renderLadder();
                currentQuestionIndex = 0;
                loadQuestion();
            }, 300);
        }

        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                endGame(true);
                return;
            }

            isLocked = false;
            pendingLetter = null;
            nextBtnContainer.classList.remove('visible');
            confirmBox.style.display = 'none';

            const data = questions[currentQuestionIndex];
            const currentPrize = prizeLadder[currentQuestionIndex];

            updateLadderVisuals();
            document.getElementById('score-display').innerText = `Q: ${currentQuestionIndex + 1} / ${questions.length}`;
            currentMoneyDisplay.innerHTML = `<span style="color:var(--text-warm)">$${currentPrize.toLocaleString()}</span>`;
            
            // Update the MOBILE BAR
            mobileMoneyVal.innerText = `$${currentPrize.toLocaleString()}`;

            questionText.style.opacity = 0;
            setTimeout(() => {
                 questionText.innerText = data.q;
                 questionText.style.opacity = 1;
            }, 200);
           
            document.getElementById('text-A').innerText = data.options.A;
            document.getElementById('text-B').innerText = data.options.B;
            document.getElementById('text-C').innerText = data.options.C;
            document.getElementById('text-D').innerText = data.options.D;

            ['A', 'B', 'C', 'D'].forEach(letter => {
                const btn = document.getElementById(`btn-${letter}`);
                btn.className = 'answer-btn';
                btn.disabled = false;
                btn.classList.remove('selected', 'correct', 'wrong');
            });
        }

        function selectAnswer(selectedLetter) {
            if (isLocked) return;
            isLocked = true; 
            pendingLetter = selectedLetter;
            ['A','B','C','D'].forEach(l => document.getElementById(`btn-${l}`).classList.remove('selected'));
            document.getElementById(`btn-${selectedLetter}`).classList.add('selected');
            confirmBox.style.display = 'flex';
        }

        function handleConfirmation(confirmed) {
            confirmBox.style.display = 'none';

            if (!confirmed) {
                isLocked = false;
                document.getElementById(`btn-${pendingLetter}`).classList.remove('selected');
                pendingLetter = null;
            } else {
                revealResult();
            }
        }

        function revealResult() {
            const selectedBtn = document.getElementById(`btn-${pendingLetter}`);
            const currentQ = questions[currentQuestionIndex];
            
            setTimeout(() => {
                selectedBtn.classList.remove('selected');

                if (pendingLetter === currentQ.correct) {
                    selectedBtn.classList.add('correct');
                    nextBtnContainer.classList.add('visible');
                } else {
                    selectedBtn.classList.add('wrong');
                    document.getElementById(`btn-${currentQ.correct}`).classList.add('correct');
                    endGame(false);
                }
            }, 750);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function endGame(won) {
            nextBtnContainer.classList.add('visible');
            nextBtn.innerText = "Back to Menu";
            nextBtn.onclick = () => location.reload();

            if (won) {
                questionText.innerHTML = `<span style='color:var(--text-warm); font-size: 1.5rem;'>CONGRATULATIONS!<br>You are a Millionaire!</span>`;
            } else {
                questionText.innerHTML = "<span style='color:var(--accent-wrong); font-size: 1.5rem;'>GAME OVER</span><br>Better luck next time.";
            }
            document.querySelector('.answers-grid').style.opacity = '0.5';
            document.querySelector('.answers-grid').style.pointerEvents = 'none';
        }
    </script>
</body>
</html>
